{
    "openapi": "3.0.0",
    "info": {
        "title": "Proyecto final NodeJS",
        "version": "1.0.0",
        "description": "Creación y gestión de usuarios en el backend utilizando nodeJS y postgres como base de datos",
        "contact": {
            "name": "Hebert Villarreal",
            "email": "hebertvillarreal1@gmail.com"
        }
    },
    "paths": {
        "/api/v1/signup":{
            "post":{
                "description": "Registro de nuevos usuarios y valida que el email no se encuentre previamente registrado",
                "tags": ["Auth"],
                "requestBody":{
                    "content": {
                        "application/json":{
                            "schema":{
                                "$ref": "#/components/schemas/Users"
                            }
                        }
                    }
                },
                "responses": {
                    "201":{
                        "description": "Se ha agregado a un nuevo usuario"
                    }
                }
            }
        },
        "/api/v1/login":{
            "post":{
                "description": "Inicio de sesión por medio del email y la contraseña",
                "tags": ["Auth"],
                "requestBody":{
                    "content": {
                        "application/json":{
                            "schema":{
                                "type": "object",
                                "properties": {
                                    "email":{
                                        "type": "string"
                                    },
                                    "password":{
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201":{
                        "description": "Se ha iniciado sesión de manera correcta"
                    }
                }
            }
        },
        "/api/v1/reset-password": {
            "post":{
                "description": "Se manda un token de autorización al email propocionado para restablecer la constraseña",
                "tags": ["Auth"],
                "requestBody":{
                    "content": {
                        "application/json":{
                            "schema":{
                                "type":"object",
                                "properties": {
                                    "email": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201":{
                        "description": "Se envió el token de reestablecimiento al correo electrónico proporcionado"
                    }
                }
            }
        },
        "/api/v1/update-password":{
            "put":{
                "description": "Se coloca el token recibido al email y se coloca la nueva contraseña",
                "tags": ["Auth"],
                "requestBody":{
                    "content": {
                        "application/json":{
                            "schema":{
                                "type":"object",
                                "properties": {
                                    "token":{
                                        "type":"string"
                                    },
                                    "password":{
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200":{
                        "description": "La constraseña se restableció de manera éxitosa"
                    }
                }
            }
        },
        "/users": {
            "get": {
                "tags": ["Users"],
                "responses": {
                    "200":{
                        "description": "Obtener a todos los usuarios"
                    }
                },
                "security": [
                    {
                        "jwt":[]
                    }
                ]
            }
        }
    },
    "components": {
        "securitySchemes": {
            "jwt": {
                "type": "http",
                "scheme": "bearer",
                "description": "JSON web token"
            }
        },
        "schemas": {
            "Users": {
                "type": "object",
                "required": [
                    "firstName",
                    "lastName",
                    "email",
                    "password"
                ],
                "properties": {
                    "firstName": {
                        "type": "string"
                    },
                    "lastName":{
                        "type": "string"
                    },
                    "email":{
                        "type": "string"
                    },
                    "password":{
                        "type":"string"
                    }
                }
            }
        }
    }
}